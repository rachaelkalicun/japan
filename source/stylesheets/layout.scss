$light: #fff;
$medium: #ccc;
$dark: #000;
@import "susy";
@import "compass/css3";

$total-columns: 7;
$column-width: 4em;
$gutter-width: 1em;
$grid-padding: $gutter-width;

$tablet: 8;
$desktop: 12;

/*Container*/
.inner { 
  @include susy-grid-background;
  @include container ($total-columns, $tablet, $desktop); 
}

.page { 
  @include susy-grid-background;
  @include container ($total-columns, $tablet, $desktop);
  .btn {
    position: absolute;
    top: 1em;
    right: 5%;
    z-index: 100;
    padding: 0.25em 2%;
    color: $dark;
    background-color: $light;
    &:hover {
      background-color: $medium;
    }
  }
  #toggle {
    position: absolute;
    top: -9999px;
    left: -9999px;
    &:checked ~ nav #nav {
      z-index: 101; 
      a {
        line-height: 3em;
        height: 3em;
        border-bottom: 1px solid $dark;
        position: relative;
        z-index: 1;
        &:hover {
          background: $light;
        }
      }
      #close {
        position: relative;
        z-index: 0;
        label {
          background: transparent;
          border-bottom: 0;
          position: absolute;
          top: -101em;
          bottom: -101em;
          left: 0;
          right: 0;
          z-index: 0;
        }
      }
    }
  }
  .nav {
    position: fixed;
    top: 4em;
    left: 0;
    right: 0;
    @include with-grid-settings(7,4em,1em,1em) {
      .container { 
        @include susy-grid-background;
        @include container;
        #nav { 
          list-style-type: none;
          padding: 0;
          z-index: 10;
          a {
            height: 0;
            line-height: 0;
            display: block;
            border-bottom-width: 0;
            background: $medium;
            padding: 0 0 0 5%;
            overflow: hidden;
            color: $dark;
            text-decoration: none;
            @include transition-duration(0.5s);
          }
        }
      }
    }
  }
 } /*.page*/

/*End Container*/
  
/*Layout*/

@include at-breakpoint($tablet) {
  .inner { 
    @include susy-grid-background;
    @include container($tablet); 
  }
  .page {
    @include susy-grid-background;
    .nav {
      @include with-grid-settings(8,4em,1em,1em) {
        .container { 
          @include susy-grid-background;
          @include container;
          #toggle:checked ~ nav #nav, #nav { 
            list-style-type: none;
            padding: 0;
            top: 2em;
            right: 2%;
            left: 35px;
            @include box-shadow(0 0 0 0);
          }
        }
      }
    }
  }
}

@include at-breakpoint($desktop) {
  .inner { 
    @include susy-grid-background;
    @include container($desktop); 
  }
  .page {
    @include susy-grid-background;
    .btn {
      display: none;
    }
    .nav {
      @include with-grid-settings(12,4em,1em,1em) {
        .container { 
          @include susy-grid-background;
          @include container;
          #nav { 
            #close { 
              display: none;
            }
            li {
              display: inline;
              float: left;
              &.selected {
                font-weight: bold;
              }
              a {
                line-height: 1em;
                height: 2em;
                display: inline;
                float: right;
                background: transparent;
                padding: 0 1em;
                border-bottom: 0;
              }
            }
          }
        }
      }
    }
  }  
}

/*End Layout*/